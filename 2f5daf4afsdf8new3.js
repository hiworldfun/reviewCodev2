window.kBinanceAlpha={...window.kBinanceAlpha},(self.webpackChunkalpha_ui=self.webpackChunkalpha_ui||[]).push([["2548"],{42318:function(e,t,a){"use strict";a.d(t,{$5:()=>i,B2:()=>n});var r=a(5034),s=a(45549);let n=async e=>{let t;try{t=await(0,r.v_)("/bapi/defi/v1/private/wallet-direct/swap/cex/batch/order/history",e)}catch(e){let a="";e instanceof Error&&(a=e.message),t={success:!1,msg:a,data:[]}}return t},i=async e=>{let t;try{t=await(0,r.U2)(`/bapi/defi/v1/private/alpha-trade/order/get-order-history-merge?${(0,s.DT)(e)}`)}catch(e){let a="";e instanceof Error&&(a=e.message),t={success:!1,msg:a,data:[]}}return t};window.kBinanceAlpha.getOrderHistory=async e=>{let t;try{t=await(0,r.U2)(`/bapi/defi/v1/private/alpha-trade/order/get-order-history-merge?${(0,s.DT)(e)}`).then((e=>e))}catch(e){let a="";e instanceof Error&&(a=e.message),t={success:!1,msg:a,data:[]}}return t},window.kBinanceAlpha.cancelAllAlphaLimitOrders=async()=>{let e;try{e=await(0,r.v_)("/bapi/defi/v1/private/alpha-trade/order/cancel-all",{})}catch(t){let a="";t instanceof Error&&(a=t.message),e={success:!1,msg:a,data:[]}}return e},window.kBinanceAlpha.cancelAlphaLimitOrder=async e=>{let t;try{t=await(0,r.v_)("/bapi/defi/v1/private/alpha-trade/order/cancel",e)}catch(e){let a="";e instanceof Error&&(a=e.message),t={success:!1,msg:a,data:[]}}return t},window.kBinanceAlpha.getLimitOpenOrders=async({side:e})=>{let t;try{t=await(0,r.U2)(`/bapi/defi/v1/private/alpha-trade/order/get-open-order?side=${e}`)}catch(e){let a="";e instanceof Error&&(a=e.message),t={success:!1,msg:a,data:[]}}return t},window.kBinanceAlpha.getQuote=async e=>{let t;try{t=await(0,r.v_)("/bapi/defi/v1/private/wallet-direct/swap/cex/get-quote",e)}catch(e){let a="";e instanceof Error&&(a=e.message),t={success:!1,msg:a,data:{rate:{},mode:{priorityOnPrice:{},priorityOnSuccess:{}}}}}return t},window.kBinanceAlpha.execInstantPayment=async e=>{let t;try{t=await(0,iP.v_)("/bapi/defi/v2/private/wallet-direct/swap/cex/sell/pre/payment",e)}catch(e){let a="";e instanceof Error&&(a=e.message),t={success:!1,msg:a,data:{}}}return t},window.kBinanceAlpha.placeAlphaLimitOrder=async e=>{let t;try{t=await(0,r.v_)("/bapi/asset/v1/private/alpha-trade/order/place",e)}catch(e){let a="";e instanceof Error&&(a=e.message),t={success:!1,msg:a,data:null}}return t},window.kBinanceAlpha.placeAlphaLimitOTOOrder=async e=>{let t;try{t=await(0,r.v_)("/bapi/asset/v1/private/alpha-trade/oto-order/place",e)}catch(e){let a="";e instanceof Error&&(a=e.message),t={success:!1,msg:a,data:null}}return t},window.kBinanceAlpha.getAlphaBalances=async()=>{let e;try{e=await(0,r.U2)("/bapi/defi/v1/private/wallet-direct/cloud-wallet/alpha")}catch(t){let a="";t instanceof Error&&(a=t.message),e={success:!1,message:a,data:{list:[],totalValuation:null}}}return e},window.kBinanceAlpha.getMainBalances=async e=>{let t;try{t=await(0,r.U2)(`/bapi/asset/v2/private/asset-service/wallet/balance?${(0,s.DT)(e)}`).then((e=>e))}catch(e){let a="";e instanceof Error&&(a=e.message),t={success:!1,msg:a,data:[]}}return t},window.kBinanceAlpha.getUserInfo=async e=>{let t;try{t=await(0,r.U2)("/bapi/accounts/v1/private/account/user/userInfo").then((e=>e))}catch(e){let a="";e instanceof Error&&(a=e.message),t={success:!1,msg:a,data:[]}}return t},window.kBinanceAlpha.getUserDailyVolume=async e=>{let t;try{t=await(0,r.U2)("/bapi/defi/v1/private/wallet-direct/buw/wallet/today/user-volume").then((e=>e))}catch(e){let a="";e instanceof Error&&(a=e.message),t={success:!1,msg:a,data:[]}}return t},window.kBinanceAlpha.getUserAlphaScore=async e=>{let t;try{t=await(0,r.U2)("/bapi/defi/v1/private/wallet-direct/buw/tge/common/user-score").then((e=>e))}catch(e){let a="";e instanceof Error&&(a=e.message),t={success:!1,msg:a,data:[]}}return t}},4751:function(e,t,a){var r=a(24303);e.exports=function(e,t){var a;return r(e,(function(e,r,s){return!(a=t(e,r,s))})),!!a}},51525:function(e,t,a){var r=a(87064),s=a(68286),n=a(4751),i=a(86152),l=a(82406);e.exports=function(e,t,a){var c=i(e)?r:n;return a&&l(e,t,a)&&(t=void 0),c(e,s(t,3))}},99179:function(e,t,a){"use strict";a.r(t),a.d(t,{default:()=>Q});var r=a(52322),s=a(87363),n=a(91293);let i=({children:e})=>(0,r.jsx)("div",{className:"flex items-center justify-center w-full h-full bg-BasicBg typography-subtitle2 text-TertiaryText",children:e});var l=a(81619),c=a(42660),o=a(51817),d=a(88086),u=a(82066),p=a(70088),m=a(5034),h=a(45549);let v=async e=>{let{chainId:t,contractAddress:a,interval:r,limit:s,startTime:n,endTime:i,sourceType:l}=e;return(0,m.U2)(`/bapi/defi/v1/public/alpha-trade/agg-klines?${(0,h.DT)({chainId:t,interval:r,limit:s,startTime:n,endTime:i,tokenAddress:a,dataType:l})}`)},y=e=>{let{data:t,isLoading:a,error:r}=(0,u.useQuery)(p.i.QUERY_ALPHA_KLINE_PRECISION(e),(()=>v(e)),{staleTime:1/0});return{data:t,isLoading:a,error:r}};var g=a(52165),f=a(38449);let b=e=>{let{namespace:t}=e,{t:a}=(0,f.yk)(),[r]=n.kL.Store.createStore(t)(n.kL.Store.getInterval),{symbol:i}=(0,o.r)()||{},l=g.dj(),c=(0,s.useMemo)((()=>l(r)),[l,r]);return(0,s.useMemo)((()=>a("unsupported-interval",{defaultValue:"{{interval}} is not currently supported for {{symbol}} token",interval:c,symbol:i})),[c,a,i])},w=()=>{let{t:e}=(0,f.cK)();return(0,s.useMemo)((()=>e("trd-data-source-not-ava",{defaultValue:"No data available. Please go to Alpha Data Source to make adjustments."})),[e])};var A=a(36947);let k=e=>{let[t,a,r,s,n,i]=e;return{time:+t,open:+a,high:+r,low:+s,close:+n,volume:+i,quantity:0}},T=async e=>{try{return(await v(e)).data.klineInfos||[]}catch(e){return console.warn("no response available",e),[]}},I=async e=>(await(async e=>{let{chainId:t,contractAddress:a,interval:r,mode:s,startTime:n,endTime:i,sourceType:l}=e;switch(s){case"time-range":case"load-past":return i?T({chainId:t,contractAddress:a,interval:r,endTime:i-1,limit:500,sourceType:l}):[];case"load-future":case"go-to-date":return T({chainId:t,contractAddress:a,interval:r,startTime:n,limit:500,sourceType:l});default:return T({chainId:t,contractAddress:a,interval:r,limit:500,sourceType:l})}})(e)).map(k),S=(0,A.f_)(),L=e=>{let{chainId:t,contractAddress:a,sourceType:r}=e;return(0,s.useMemo)((()=>t&&a&&r?(e=>{let{chainId:t,contractAddress:a,sourceType:r}=e,s=()=>null;return{trackingData:{klineDataQueue:[]},getData:async function(e){let{startTime:s,endTime:n,mode:i,seriesData:l,interval:c}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!1,d=g.ps(c);try{let e=await I({chainId:t,contractAddress:a,interval:d,startTime:s,endTime:n,mode:i,seriesData:l,sourceType:r});o({data:e,isLoadAll:0===e.length})}catch(e){console.warn("errors while fetching kline data",e)}},subscribe:(e,n)=>{let{interval:i}=e,l=g.ps(i);s=S.getKlineStream({chainId:t,contractAddress:a,interval:l,sourceType:r}).subscribe((e=>{let{data:t}=e,{k:a}=t;n({time:+a.ot,open:+a.o,high:+a.h,low:+a.l,close:+a.c,volume:+a.v,quantity:0})}))},unsubscribe:()=>{s()},subscribeAskBid:()=>null,unsubscribeAskBid:()=>null,getBarDatas:()=>null,subcribe:()=>null,unSubcribe:()=>{s()}}})({chainId:t,contractAddress:a,sourceType:r}):{getBarDatas:()=>Promise.resolve({data:[],isLoadAll:!0}),subscribe:()=>null,unsubscribe:()=>null,subcribe:()=>null,unSubcribe:()=>null}),[t,a,r])};var E=a(42759);let x=e=>{let{namespace:t}=e;return{rightClickPlaceOrder:{visible:!1},timeTool:{visible:!1},createAlert:{visible:!1},moreSettings:(0,E.g)({namespace:t})}};var B=a(83289),D=a(35312),_=a(78369),O=a(44637);let M=(0,a(57550).O)("6m"),C={page:1,pageSize:1e3,status:["success"],startTime:M.startTime,endTime:M.endTime},P=e=>{let{namespace:t,chainId:a,contractAddress:r}=e,i=n.kL.Store.createStore(t),{getI18n:l}=(0,B.Z)("","trade-ui"),[c]=i(n.kL.Store.getShowExecutionOrder),o=(0,s.useMemo)((()=>l("trd-openOrder-sideBuyBOTH",{defaultValue:"Buy"})||""),[l]),d=(0,s.useMemo)((()=>l("trd-openOrder-sideSellBOTH",{defaultValue:"Sell"})||""),[l]),{data:u,isLoading:p}=(0,D.o)(C,{enabled:c}),m=(0,s.useMemo)((()=>u.filter((e=>{let{status:t,fromBinanceChainId:s,toBinanceChainId:n,fromContractAddress:i,toContractAddress:l}=e;return!(s!==a&&n!==a||i!==r&&l!==r||"success"!==t)})).map((e=>{let{orderId:t,dbUpdateTime:a,direction:r,fromTokenAmount:s,toTokenAmount:n}=e,i="buy"===r;return{id:t,time:a,isBuy:i,text:`${i?o:d} ${(0,O.E$)(i?n:s,_.Bu.MIDDLE)}`}}))),[u,a,r,o,d]);return p?[]:m};var U=a(3528),N=a(5150);let R=e=>{var t;let{tokens:a,enabled:r}=e,{data:s,isLoading:n,error:i}=(0,u.useQuery)(p.i.QUERY_ALPHA_AVERAGE_COSTS({tokens:a}),(()=>(async({tokens:e})=>(0,m.v_)("/bapi/apex/v1/private/apex/alpha/pnl/avg-cost",{tokens:e}))({tokens:a})),{staleTime:0,enabled:r});return{data:(null==s||null==(t=s.data)?void 0:t.tokensAvgCost)||[],isLoading:n,error:i}},q=e=>{let{namespace:t,tickSize:a,alphaId:r}=e,{getI18n:n}=(0,B.Z)(),{cost:i,formattedCost:l}=(e=>{let{namespace:t,tickSize:a,alphaId:r}=e,[n]=U.createStore(t)(U.getShowCostPrice),{data:i}=R({tokens:[r],enabled:n}),l=(0,s.useMemo)((()=>i.find((e=>e.token===r))),[i,r]),c=(0,s.useMemo)((()=>+((null==l?void 0:l.avgCost)||NaN)),[null==l?void 0:l.avgCost]),o=(0,s.useMemo)((()=>(0,N.uf)(c,a)),[c,a]);return{cost:c,formattedCost:o}})({namespace:t,tickSize:a,alphaId:r}),c=(0,s.useMemo)((()=>n("trd-chart-cost-price-text",{defaultValue:"Cost Price"})),[n]),o=(0,s.useMemo)((()=>[{price:i,text:c,priceText:l}].filter((e=>e.price>0))),[c,i,l]);return(0,s.useMemo)((()=>o.map((e=>{let{price:t,text:a,priceText:r}=e;return{price:t,text:a,priceText:r,type:U.LabelLineType.CostPrice}}))),[o])},Q=e=>{var t;let{namespace:a}=e,{symbol:u="",alphaId:p="",chainId:m="",contractAddress:h=""}=(0,o.r)()||{},v=n.kL.Store.createStore(a),g=n.kL.SessionStore.createStore(a),[f]=v(n.kL.Store.getInterval),A=(0,d.q)((e=>e.sourceType)),[k]=g(n.kL.SessionStore.getCandlestickReference),{data:T,isLoading:I}=y({chainId:m,contractAddress:h,interval:"time"===f?"1m":f,sourceType:A}),S=(0,s.useMemo)((()=>void 0===T||null!=T&&!!T.success||"100001001"!==T.code&&"-5099"!==T.code),[T]),E=(0,s.useMemo)((()=>void 0===T||null!=T&&!!T.success||"-5101"!==T.code),[T]),B=(0,s.useMemo)((()=>{var e;return(null==T||null==(e=T.data)?void 0:e.decimals)||2}),[null==T||null==(t=T.data)?void 0:t.decimals]),D=b({namespace:a}),_=w(),O=L({chainId:m,contractAddress:h,sourceType:A}),M=x({namespace:a}),C=P({namespace:a,chainId:m,contractAddress:h}),U=q({namespace:a,alphaId:p,tickSize:B}),N=(0,s.useMemo)((()=>({tickSize:B})),[B]);return(0,s.useEffect)((()=>{k&&(k.setAttr("volumePrecision",4),k.setAttr("volumeFormatNumber",!1),k.setAttr("volumeUseBase",!1))}),[k]),(0,r.jsxs)("div",{className:"relative h-full w-full",children:[f?(0,r.jsx)("div",{className:"h-full w-full",style:{visibility:I?"hidden":"visible"},children:(0,r.jsx)(n.kL.Containers.BasicKline,{klineOptions:{symbol:u,storeSymbol:u,candlestick:N,baseAsset:u,dataProvider:O,namespace:a,isShowDrawPanel:!0,isShowAnnotationPanel:!0,contextMenu:M},symbolDisplay:u,executionOrders:C,labelLines:U,bizType:"trade",setMessageInfo:()=>null,enableBacktest:!1,electron:l.Z})}):null,S&&E?null:(0,r.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full",children:[S?null:(0,r.jsx)(i,{children:D}),E?null:(0,r.jsx)(i,{children:(0,r.jsxs)("div",{className:"p-[24px] flex flex-col justify-center items-center",children:[(0,r.jsx)("img",{className:"w-[96px] h-[96px]",src:`${c.Xs}/static/images/spot/noklinedata.png`}),(0,r.jsxs)("div",{children:[_," "]})]})})]})]})}},57550:function(e,t,a){"use strict";a.d(t,{O:()=>r});let r=e=>{let t,a=(new Date).setHours(23,59,59,0),r=new Date;switch(r.setHours(0,0,0,0),e){case"6m":t=r.setMonth(r.getMonth()-6);break;case"1m":t=r.setMonth(r.getMonth()-1);break;case"1w":t=r.setDate(r.getDate()-7);break;default:t=r.setDate(r.getDate()-1),e="1d"}return{type:e,startTime:t,endTime:a}}},35312:function(e,t,a){"use strict";a.d(t,{o:()=>m});var r=a(87363),s=a(76635),n=a(32963),i=a(70088),l=a(42318),c=a(82066),o=a(55281),d=a.n(o),u=a(52595);let p=e=>{let{response:t,oldData:a,page:r}=e;if(!(null==a?void 0:a.data))return a;let n=!1,i=(0,s.cloneDeep)(a);if("processing"===t.status)return a;for(let e=0;e<(null==i?void 0:i.data.length);e++){var l;let a=(null==i||null==(l=i.data)?void 0:l[e])||{data:[]},r=d()(a,{orderId:null==t?void 0:t.orderId});r&&(n=!0,r.status=t.status)}return n||1!==r||i.data.unshift(t),i},m=function(e){let{enabled:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enabled:!0},a=(0,n._n)(),s=(0,r.useMemo)((()=>a&&t),[a,t]),o=(0,c.useQueryClient)(),d=e.status?e:{...e,status:["success","failure"]},{isLoading:m,data:h,refetch:v,remove:y,isFetched:g}=(0,c.useQuery)({queryKey:[i.i.QUERY_ALPHA_ORDER_LIST[0],e],queryFn:()=>(0,l.B2)({...d}),keepPreviousData:!0,enabled:s}),f=Math.ceil(((null==h?void 0:h.total)||0)/Number(e.pageSize)),b=null==h?void 0:h.data;return(0,r.useEffect)((()=>a&&g?(0,u.q)((t=>{o.setQueryData([i.i.QUERY_ALPHA_ORDER_LIST[0],e],(a=>p({response:t,oldData:a||{data:[]},page:null==e?void 0:e.page})))})):()=>{}),[a,g,e,o]),{data:b||[],isLoading:m,refetch:()=>{y(),v()},isFetched:g,total:f}}},52595:function(e,t,a){"use strict";a.d(t,{q:()=>b,r:()=>A});var r=a(87363),s=a(32963),n=a(70088),i=a(5034);let l=async()=>{let e;try{e=await(0,i.v_)("/bapi/defi/v1/private/wallet-direct/swap/cex/processing/order/history")}catch(t){let a="";t instanceof Error&&(a=t.message),e={success:!1,msg:a,data:[]}}return e};var c=a(82066),o=a(26034),d=a(64116),u=a.n(d),p=a(51525),m=a.n(p),h=a(20763),v=a(38449),y=a(44637),g=a(78369),f=a(3276);let b=e=>(0,o.K)({channel:"WEB3_CEX_ALPHA_ORDER_CHANGE",responseName:"alphaCexOrderChangeMsg"})((t=>{e(t)})),w=e=>{let{response:t,oldData:a,showSuccess:r}=e;var s;if("processing"===(null==t?void 0:t.status)&&!m()(null==a?void 0:a.data,{orderId:null==t?void 0:t.orderId}))return!a||!a.data||(null==a||null==(s=a.data)?void 0:s.length)<=0?{data:[t]}:{...a,data:[t,...a.data]};let n=null==a?void 0:a.data;return m()(null==a?void 0:a.data,{orderId:null==t?void 0:t.orderId})&&"success"===(null==t?void 0:t.status)&&r({quantity:"buy"===t.direction?t.toTokenAmount:t.fromTokenAmount,base:"buy"===t.direction?t.toToken:t.fromToken,quote:"buy"===t.direction?t.fromToken:t.toToken,side:t.direction}),u()(n,(e=>e.orderId===(null==t?void 0:t.orderId))),{...a,data:n}},A=e=>{var t;let a=(0,s._n)(),i=(0,c.useQueryClient)(),o=(0,f.d)(),{t:d}=(0,v.cK)(),{showSuccessNotification:u}=(0,h.l)(),{isLoading:p,data:m,refetch:A}=(0,c.useQuery)(n.i.QUERY_ALPHA_PROCESSING_LIST,(async()=>await l()),{enabled:a||!1,staleTime:1/0}),k=(0,r.useCallback)((e=>{let{quantity:t,base:a,quote:r,side:s}=e;u(d(`order-fill-${s}-text`,{defaultValue:"The instant order to buy {{quantity}} {{base}} for {{quote}} has been filled.",quantity:(0,y.E$)(t,g.Bu.MIDDLE),base:a,quote:r}),d(`order-fill-${s}-title`,{defaultValue:"Instant Buy Order Filled"}))}),[u,d]);return(0,r.useEffect)((()=>a&&o?b((t=>{i.setQueryData(n.i.QUERY_ALPHA_PROCESSING_LIST,(a=>w({response:t,oldData:a,showSuccess:e?k:()=>{}})))})):()=>{}),[a,i,k,e,o]),{data:(null==m?void 0:m.data)||[],isLoading:p,refetch:A,number:(null==m||null==(t=m.data)?void 0:t.length)||0}}}}]);